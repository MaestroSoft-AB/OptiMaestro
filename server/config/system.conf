
# Optimaestro Server Configuration

# =====TCP Server Settings=====

tcp.host=0.0.0.0
tcp.port=8080
# Maximum number of pending connections waiting to be accepted
# how it is used: listen(socket_fd, backlog)
tcp.backlog=128

# =====HTTP Server Settings=====

http.enabled=true
http.port=8081
# Root directory for serving static HTTP content
# example of use: open(root + "/index.html" -> requested path)
http.root=/var/www/html
http.keepalive=true
# Example of use:
# if (keepalive) {
#     reuse_connection();
# }

# =====Worker / Thread Pool=====

# Enable / Disable worker threads
worker.enabled=true
# Number of worker threads to spawn
worker.threads=4
# Maximum number of tasks in the worker queue
worker.queue_size=256
# Example of use:
# int threads = atoi(threads_str);
# pthread_create(...);
# Feature flags Enable / Disable 
# configurations switches can run at runtime
# changing behaviour without recompiling

# disable / enable caching feature
feature.cache=true
# disable / enable metrics collection
feature.metrics=false

# =====Arrays=====

# ip addresses each representing a service instance
upstream.servers=10.0.0.1,10.0.0.2,10.0.0.3


# =====Connection Limits=====

limits.max_connections=1000
# Example of use:
# if (active_connections >= max_connections) {
#     reject_new_connection();
# }
limits.max_payload_size=1048576
# Example of use:
# if (payload_size > max_payload_size) {
#     close_connection();
# }

# =====Logging=====

log.level=info
# Example of use:
# if (level >= INFO) log(...);

log.path=logs/optimaestro.log
# Example of use:
# log_fd = open(path, O_APPEND);

# ===== Scheduler =====

# Enables/disables the scheduler loop (background job runner).
scheduler.enabled=true

# Scheduling policy used when picking the next job/task from the queue.
# Common examples: round_robin, fifo, priority (depends on your implementation).
scheduler.type=round_robin

# Scheduler tick interval.
# - scheduler.interval: seconds
# - scheduler.interval_ms: milliseconds
scheduler.interval=60
scheduler.interval_ms=100

# Upper bound on how many jobs/tasks can be tracked/registered.
scheduler.max_jobs=1024

# Maximum number of pending jobs/tasks waiting in the scheduler queue.
scheduler.queue_size=512